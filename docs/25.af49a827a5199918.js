"use strict";(self.webpackChunkcybertools=self.webpackChunkcybertools||[]).push([[25],{2025:(Z,u,s)=>{s.r(u),s.d(u,{PdfSplitModule:()=>_});var m=s(6814),P=s(3403),f=s(5861),p=s(4611),e=s(9212),g=s(6223),C=s(9862),x=s(4596),F=s(4777);function b(a,y){if(1&a){const o=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"pdf-viewer",8),e.NdJ("after-load-complete",function(r){e.CHM(o);const i=e.oxw(2);return e.KtG(i.afterLoadComplete(r))}),e.qZA()(),e.BQk()}if(2&a){const o=y.$implicit,t=e.oxw(2);e.xp6(2),e.Q6J("src",t.pdfSrc)("rotation",180)("render-text",!0)("page",o+1)("original-size",!1)("fit-to-page",!0)("show-all",!1)("show-borders",!0)}}function A(a,y){if(1&a&&(e.ynx(0),e.TgZ(1,"div",5),e.YNc(2,b,3,8,"ng-container",6),e.qZA(),e.BQk()),2&a){const o=e.oxw();e.xp6(2),e.Q6J("ngForOf",o.pdfPages)}}const D=[{path:"",component:(()=>{class a{constructor(o,t){this.fb=o,this.http=t,this.pageRange="",this.seprate=!1,this.downloadLink=!1,this.rotationArray=[],this.removeArray=[]}ngOnInit(){this.pdfMerge=this.fb.group({pdf:[""]})}onFileSelected(o){var t=this;return(0,f.Z)(function*(){const r=o.map(n=>n.file);if(0===r.length)return;const i=[];for(const n of r){const d=yield t.readFileAsArrayBuffer(n);i.push(new Uint8Array(d))}try{t.mergedPdfData=yield t.mergePdfs(...i);const n=new Blob([t.mergedPdfData],{type:"application/pdf"}),d=URL.createObjectURL(n);t.pdfSrc=d}catch(n){console.error("Error merging PDFs:",n)}})()}readFileAsArrayBuffer(o){return(0,f.Z)(function*(){return new Promise((t,r)=>{const i=new FileReader;i.onload=d=>{d.target?t(d.target.result):r(new Error("Error reading file as ArrayBuffer."))};const n=new Blob([o]);i.readAsArrayBuffer(n)})})()}mergePdfs(...o){var t=this;return(0,f.Z)(function*(){try{t.mergedPdf=yield p.PDFDocument.create();for(const i of o){let n=yield p.PDFDocument.load(i),d=yield t.mergedPdf.copyPages(n,n.getPageIndices());for(let l of d)t.mergedPdf.addPage(l)}return t.pdfPages=t.mergedPdf.getPageIndices(),yield t.mergedPdf.save()}catch(r){throw console.error("Error merging PDFs:",r),r}})()}extractAllPages(){var o=this;return(0,f.Z)(function*(){const t=yield o.mergedPdf.save(),r=yield p.PDFDocument.load(t);if(r.getPageCount(),""===o.pageRange.trim())return void console.error("Please provide a valid page range.");let[n,d]=o.pageRange.split(",").map(Number);if(isNaN(n)||isNaN(d)||n<1||d>r.getPageCount()||n>d)console.error("Invalid page range.");else if(o.seprate)for(let l=n-1;l<=d-1;l++){const c=yield p.PDFDocument.create(),w=yield c.copyPages(r,[l-1]);c.addPage(w[0]);const h=yield c.save();o.downloadFile(h,`page_${l}.pdf`)}else{n-=1,d-=1;const l=yield p.PDFDocument.create();let c=Array.from({length:d-n+1},(v,M)=>n+M);console.log(c),(yield l.copyPages(r,c)).forEach(v=>l.addPage(v));const h=yield l.save();o.downloadFile(h,`pages_${n+1}_${d+1}.pdf`)}})()}downloadFile(o,t){const r=new Blob([o],{type:"application/pdf"}),i=window.URL.createObjectURL(r),n=document.createElement("a");n.href=i,n.download=t,document.body.appendChild(n),this.link=n,n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}afterLoadComplete(o){}static#e=this.\u0275fac=function(t){return new(t||a)(e.Y36(g.qu),e.Y36(C.eN))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-pdf-split"]],decls:8,vars:2,consts:[[1,"container"],[3,"sendForm"],["type","text",3,"ngModel","ngModelChange"],[1,"btn",3,"click"],[4,"ngIf"],[1,"pdfContainer"],[4,"ngFor","ngForOf"],[1,"pdfView"],[2,"width","100%","height","100%",3,"src","rotation","render-text","page","original-size","fit-to-page","show-all","show-borders","after-load-complete"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"app-choose-file",1),e.NdJ("sendForm",function(n){return r.onFileSelected(n)}),e.qZA(),e.TgZ(2,"label"),e._uU(3,"Page Range (comma-separated): "),e.qZA(),e.TgZ(4,"input",2),e.NdJ("ngModelChange",function(n){return r.pageRange=n}),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return r.extractAllPages()}),e._uU(6,"Extract PDF"),e.qZA()(),e.YNc(7,A,3,1,"ng-container",4)),2&t&&(e.xp6(4),e.Q6J("ngModel",r.pageRange),e.xp6(3),e.Q6J("ngIf",r.pdfSrc))},dependencies:[m.sg,m.O5,x.U,g.Fj,g.JJ,g.On,F.rQ],styles:[".pdfContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.pdfView[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;overflow:hidden;margin:10px}.pdfView[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]     .ng2-pdf-viewer-container{overflow:hidden!important;width:100%!important;height:100%!important;border:1px solid whitesmoke!important;box-shadow:0 4px 8px #0000001a;box-sizing:border-box}[_nghost-%COMP%]     .ng2-pdf-viewer-container::-webkit-scrollbar{display:none!important}"]})}return a})()}];let B=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[P.Bz.forChild(D),P.Bz]})}return a})();var S=s(890);let _=(()=>{class a{static#e=this.\u0275fac=function(t){return new(t||a)};static#t=this.\u0275mod=e.oAB({type:a});static#n=this.\u0275inj=e.cJS({imports:[m.ez,B,S.m]})}return a})()}}]);