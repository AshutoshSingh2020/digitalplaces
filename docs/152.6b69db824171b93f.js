"use strict";(self.webpackChunkcybertools=self.webpackChunkcybertools||[]).push([[152],{9152:(b,g,d)=>{d.r(g),d.d(g,{PdfExtractModule:()=>A});var p=d(6814),m=d(3403),s=d(5861),l=d(4611),t=d(9212),u=d(6223),P=d(9862),x=d(4596),y=d(4777);function w(r,h){if(1&r){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"pdf-viewer",7),t.NdJ("after-load-complete",function(n){t.CHM(o);const i=t.oxw(2);return t.KtG(i.afterLoadComplete(n))}),t.qZA()(),t.BQk()}if(2&r){const o=h.$implicit,e=t.oxw(2);t.xp6(2),t.Q6J("src",e.pdfSrc)("rotation",180)("render-text",!0)("page",o+1)("original-size",!1)("fit-to-page",!0)("show-all",!1)("show-borders",!0)}}function v(r,h){if(1&r&&(t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,w,3,8,"ng-container",5),t.qZA(),t.BQk()),2&r){const o=t.oxw();t.xp6(2),t.Q6J("ngForOf",o.pdfPages)}}const C=[{path:"",component:(()=>{class r{constructor(o,e){this.fb=o,this.http=e,this.downloadLink=!1,this.rotationArray=[],this.removeArray=[]}ngOnInit(){this.pdfMerge=this.fb.group({pdf:[""]})}onFileSelected(o){var e=this;return(0,s.Z)(function*(){const n=o.map(a=>a.file);if(0===n.length)return;const i=[];for(const a of n){const c=yield e.readFileAsArrayBuffer(a);i.push(new Uint8Array(c))}try{e.mergedPdfData=yield e.mergePdfs(...i);const a=new Blob([e.mergedPdfData],{type:"application/pdf"}),c=URL.createObjectURL(a);e.pdfSrc=c}catch(a){console.error("Error merging PDFs:",a)}})()}readFileAsArrayBuffer(o){return(0,s.Z)(function*(){return new Promise((e,n)=>{const i=new FileReader;i.onload=c=>{c.target?e(c.target.result):n(new Error("Error reading file as ArrayBuffer."))};const a=new Blob([o]);i.readAsArrayBuffer(a)})})()}mergePdfs(...o){var e=this;return(0,s.Z)(function*(){try{e.mergedPdf=yield l.PDFDocument.create();for(const i of o){let a=yield l.PDFDocument.load(i),c=yield e.mergedPdf.copyPages(a,a.getPageIndices());for(let f of c)e.mergedPdf.addPage(f)}return e.pdfPages=e.mergedPdf.getPageIndices(),yield e.mergedPdf.save()}catch(n){throw console.error("Error merging PDFs:",n),n}})()}extractAllPages(){var o=this;return(0,s.Z)(function*(){const e=yield o.mergedPdf.save(),n=yield l.PDFDocument.load(e),i=n.getPageCount();for(let a=0;a<i;a++){const c=yield l.PDFDocument.create(),[f]=yield c.copyPages(n,[a]);c.addPage(f);const D=yield c.save();o.downloadExtractedPdf(D,a)}})()}downloadExtractedPdf(o,e){return(0,s.Z)(function*(){const n=new Blob([o],{type:"application/pdf"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.download=`extracted_page_${e+1}.pdf`,i.click()})()}afterLoadComplete(o){}static#t=this.\u0275fac=function(e){return new(e||r)(t.Y36(u.qu),t.Y36(P.eN))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["app-pdf-extract"]],decls:5,vars:1,consts:[[1,"container"],[3,"sendForm"],[1,"btn",3,"click"],[4,"ngIf"],[1,"pdfContainer"],[4,"ngFor","ngForOf"],[1,"pdfView"],[2,"width","100%","height","100%",3,"src","rotation","render-text","page","original-size","fit-to-page","show-all","show-borders","after-load-complete"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"app-choose-file",1),t.NdJ("sendForm",function(a){return n.onFileSelected(a)}),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return n.extractAllPages()}),t._uU(3,"Extract PDF"),t.qZA()(),t.YNc(4,v,3,1,"ng-container",3)),2&e&&(t.xp6(4),t.Q6J("ngIf",n.pdfSrc))},dependencies:[p.sg,p.O5,x.U,y.rQ],styles:[".pdfContainer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.pdfView[_ngcontent-%COMP%]{width:200px;height:200px;display:flex;flex-direction:column;overflow:hidden;margin:10px}.pdfView[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]     .ng2-pdf-viewer-container{overflow:hidden!important;width:100%!important;height:100%!important;border:1px solid whitesmoke!important;box-shadow:0 4px 8px #0000001a;box-sizing:border-box}[_nghost-%COMP%]     .ng2-pdf-viewer-container::-webkit-scrollbar{display:none!important}"]})}return r})()}];let F=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(C),m.Bz]})}return r})();var E=d(890);let A=(()=>{class r{static#t=this.\u0275fac=function(e){return new(e||r)};static#e=this.\u0275mod=t.oAB({type:r});static#o=this.\u0275inj=t.cJS({imports:[p.ez,F,E.m]})}return r})()}}]);